---
title: è®¿é—® EVM å¸æˆ·
description: è¯´æ˜å¦‚ä½•é€šè¿‡ Substrate åŒºå—é“¾èŠ‚ç‚¹é›†æˆå¯¹åŸºäºä»¥å¤ªåŠçš„å¸æˆ·å’Œåˆçº¦çš„è®¿é—®ã€‚
keywords:
  - ä»¥å¤ªåŠ
  - åˆçº¦
  - solidity
  - evm
  - ethersjs
  - web3js
  - hardhat
  - truffle
  - ganache
---

æœ¬æ•™ç¨‹è¯´æ˜äº†å¦‚ä½•ä½¿ç”¨æ¥è‡ª[Frontier](https://github.com/paritytech/frontier)é¡¹ç›®çš„cratesæ¥æ„å»º**ä¸ä»¥å¤ªåŠå…¼å®¹çš„**åŒºå—é“¾ï¼Œè¯¥åŒºå—é“¾å¯ä»¥è®¿é—®åŸºäºä»¥å¤ªåŠçš„å¸æˆ·å¹¶æ‰§è¡ŒåŸºäº Solidity çš„æ™ºèƒ½åˆçº¦ã€‚Frontier é¡¹ç›®çš„ä¸¤ä¸ªä¸»è¦ç›®æ ‡æ˜¯ä½¿æ‚¨èƒ½å¤Ÿæ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š

- ä½¿ç”¨æœ¬åœ° Substrate èŠ‚ç‚¹æ— ä¿®æ”¹åœ°è¿è¡Œä»¥å¤ªåŠå»ä¸­å¿ƒåŒ–åº”ç”¨ç¨‹åºã€‚
- ä»ä»¥å¤ªåŠä¸»ç½‘å¯¼å…¥çŠ¶æ€ã€‚

æœ¬æ•™ç¨‹ä½¿ç”¨é¢„å®šä¹‰çš„èŠ‚ç‚¹æ¨¡æ¿æ¥æä¾›å·¥ä½œç¯å¢ƒã€‚
è¯¥æ¨¡æ¿æ˜¯ä½¿ç”¨[Frontier å‘è¡ŒæŒ‡å—](https://github.com/paritytech/frontier/blob/master/docs/solo-template-node-release.md)ä¸­çš„è¯´æ˜ç”Ÿæˆçš„ã€‚

å¦‚æœæ‚¨æƒ³è‡ªå·±ç”Ÿæˆç‹¬ç«‹æ¨¡æ¿ï¼Œåˆ™å¯ä»¥ä½¿ç”¨[solo-template-node-release.sh](https://github.com/paritytech/frontier/blob/master/.maintain/solo-template-node-release.sh)æ¨¡æ¿ç”Ÿæˆè„šæœ¬ã€‚
å¦‚æœæ‚¨ä½¿ç”¨[frontier](https://github.com/paritytech/frontier)å­˜å‚¨åº“æˆ–æ¨¡æ¿ç”Ÿæˆè„šæœ¬æ„å»ºè‡ªå·±çš„èŠ‚ç‚¹ï¼Œè¯·æ³¨æ„ Frontier ä½¿ç”¨å…¶è‡ªèº«çš„ Substrate cratesç‰ˆæœ¬ï¼Œæ‚¨å¯èƒ½éœ€è¦æ›´æ–°`Cargo`æ–‡ä»¶ä¸­çš„ä¾èµ–é¡¹ä»¥åŒ¹é…é¡¹ç›®ä¸­çš„ä¾èµ–é¡¹ã€‚

## å¼€å§‹ä¹‹å‰

åœ¨å°è¯•æœ¬æ•™ç¨‹ä¹‹å‰ï¼Œæ‚¨åº”è¯¥å·²å®Œæˆä»¥ä¸‹ Substrate æ•™ç¨‹ï¼š

- [æ„å»ºæœ¬åœ°åŒºå—é“¾](/tutorials/build-a-blockchain/build-local-blockchain/)
- [å‘è¿è¡Œæ—¶æ·»åŠ æ¨¡å—](/tutorials/build-application-logic/add-a-pallet/)
- [åœ¨è‡ªå®šä¹‰æ¨¡å—ä¸­ä½¿ç”¨å®](/tutorials/build-application-logic/use-macros-in-a-custom-pallet/)

ä»è¿™äº›æ•™ç¨‹ä¸­ï¼Œæ‚¨åº”è¯¥ç†Ÿæ‚‰å¦‚ä½•æ‰§è¡Œä»¥ä¸‹ä»»åŠ¡ï¼š

- å¯åŠ¨ Substrate åŒºå—é“¾èŠ‚ç‚¹ã€‚
- åœ¨è¿è¡Œæ—¶æ·»åŠ ã€åˆ é™¤å’Œé…ç½®æ¨¡å—ã€‚
- é€šè¿‡ä½¿ç”¨ Polkadot-JS æˆ–å…¶ä»–å‰ç«¯è¿æ¥åˆ°èŠ‚ç‚¹æ¥æäº¤äº‹åŠ¡ã€‚

åœ¨å¼€å§‹æœ¬æ•™ç¨‹ä¹‹å‰ï¼Œæ‚¨è¿˜åº”è¯¥ç†Ÿæ‚‰ä»¥ä¸‹å†…å®¹ï¼š

- ä»¥å¤ªåŠæ ¸å¿ƒæ¦‚å¿µå’Œæœ¯è¯­
- ä»¥å¤ªåŠè™šæ‹Ÿæœº (EVM) åŸºç¡€çŸ¥è¯†
- å»ä¸­å¿ƒåŒ–åº”ç”¨ç¨‹åºå’Œæ™ºèƒ½åˆçº¦
- æ¨¡å—è®¾è®¡åŸåˆ™

## åˆ›ä¸–é…ç½®

`frontier-solo-template-node`ä¸­çš„å¼€å‘[é“¾è§„èŒƒ](https://github.com/substrate-developer-hub/frontier-solo-template-node/blob/main/node/src/chain_spec.rs)å®šä¹‰äº†ä¸€ä¸ªåˆ›ä¸–å—ï¼Œè¯¥å—å·²é¢„å…ˆé…ç½®äº†`alice`å¸æˆ·çš„ EVM å¸æˆ·ã€‚
å½“æ‚¨ä»¥å¼€å‘æ¨¡å¼å¯åŠ¨æ­¤èŠ‚ç‚¹æ—¶ï¼Œ`alice`çš„ EVM å¸æˆ·å°†è·å¾—é»˜è®¤æ•°é‡çš„ä»¥å¤ªå¸ã€‚
æ‚¨å°†ä½¿ç”¨æ­¤å¸æˆ·æ¥æŸ¥çœ‹ EVM å¸æˆ·è¯¦ç»†ä¿¡æ¯å¹¶è°ƒç”¨ä»¥å¤ªåŠæ™ºèƒ½åˆçº¦ã€‚
å¯åŠ¨èŠ‚ç‚¹åï¼Œæ‚¨å°†èƒ½å¤Ÿä½¿ç”¨[Polkadot-JS åº”ç”¨ç¨‹åº](https://polkadot.js.org/apps/#?rpc=ws://127.0.0.1:9944)æŸ¥çœ‹`alice`çš„ EVM å¸æˆ·çš„è¯¦ç»†ä¿¡æ¯ã€‚

## ç¼–è¯‘ Frontier èŠ‚ç‚¹

[Frontier èŠ‚ç‚¹æ¨¡æ¿](https://github.com/substrate-developer-hub/frontier-solo-template-node)æä¾›äº†ä¸€ä¸ªå¯å·¥ä½œçš„å¼€å‘ç¯å¢ƒï¼Œä»¥ä¾¿æ‚¨å¯ä»¥ç«‹å³å¼€å§‹åœ¨ Substrate ä¸Šæ„å»ºã€‚

è¦ç¼–è¯‘ Frontier èŠ‚ç‚¹æ¨¡æ¿ï¼š

1. åœ¨æ‚¨çš„è®¡ç®—æœºä¸Šæ‰“å¼€ç»ˆç«¯ shellã€‚

1. é€šè¿‡è¿è¡Œä»¥ä¸‹å‘½ä»¤å…‹éš†èŠ‚ç‚¹æ¨¡æ¿å­˜å‚¨åº“ï¼š

   ```bash
   git clone https://github.com/substrate-developer-hub/frontier-solo-template-node.git
   ```

1. é€šè¿‡è¿è¡Œä»¥ä¸‹å‘½ä»¤æ›´æ”¹åˆ°èŠ‚ç‚¹æ¨¡æ¿ç›®å½•çš„æ ¹ç›®å½•ï¼š

   ```bash
   cd frontier-solo-template-node
   ```

1. é€šè¿‡è¿è¡Œä»¥ä¸‹å‘½ä»¤ç¼–è¯‘èŠ‚ç‚¹æ¨¡æ¿ï¼š

   ```bash
   cargo build --release
   ```

## è¿æ¥åˆ°èŠ‚ç‚¹

èŠ‚ç‚¹ç¼–è¯‘å®Œæˆåï¼Œæ‚¨å¿…é¡»å¯åŠ¨èŠ‚ç‚¹æ‰èƒ½å¼€å§‹æµè§ˆé¢„é…ç½®çš„ EVM å¸æˆ·ã€‚

è¦å¯åŠ¨æœ¬åœ° Substrate èŠ‚ç‚¹ï¼š

1. æ ¹æ®éœ€è¦åœ¨æœ¬åœ°è®¡ç®—æœºä¸Šæ‰“å¼€ç»ˆç«¯ shellã€‚

1. æ›´æ”¹åˆ°æ‚¨ç¼–è¯‘`frontier-solo-template-node`çš„æ ¹ç›®å½•ã€‚

1. é€šè¿‡è¿è¡Œä»¥ä¸‹å‘½ä»¤ä»¥å¼€å‘æ¨¡å¼å¯åŠ¨èŠ‚ç‚¹ï¼š

   ```bash
   ./target/release/frontier-template-node --dev
   ```

   `--dev`å‘½ä»¤è¡Œé€‰é¡¹æŒ‡å®šèŠ‚ç‚¹ä½¿ç”¨é¢„å®šä¹‰çš„`development`é“¾è§„èŒƒè¿è¡Œï¼Œè¯¥è§„èŒƒåŒ…æ‹¬`alice`çš„é¢„å®šä¹‰ EVM å¸æˆ·ä»¥åŠå…¶ä»–ç”¨äºæµ‹è¯•çš„å¸æˆ·ã€‚

1. é€šè¿‡æŸ¥çœ‹ç»ˆç«¯ä¸­æ˜¾ç¤ºçš„è¾“å‡ºï¼ŒéªŒè¯æ‚¨çš„èŠ‚ç‚¹æ˜¯å¦å·²æˆåŠŸå¯åŠ¨å¹¶è¿è¡Œã€‚

   ç»ˆç«¯åº”æ˜¾ç¤ºç±»ä¼¼äºæ­¤çš„è¾“å‡ºï¼š

   ```text
   2022-07-08 10:06:42 Frontier Node
   2022-07-08 10:06:42 âœŒï¸  version 0.0.0-1b6bff4-x86_64-macos
   2022-07-08 10:06:42 â¤ï¸  by Substrate DevHub <https://github.com/substrate-developer-hub>, 2021-2022
   2022-07-08 10:06:42 ğŸ“‹ Chain specification: Development
   2022-07-08 10:06:42 ğŸ·  Node name: flippant-boat-0444
   2022-07-08 10:06:42 ğŸ‘¤ Role: AUTHORITY
   ...
   ```

1. ä½¿ç”¨[Polkadot-JS åº”ç”¨ç¨‹åº](https://polkadot.js.org/apps/#?rpc=ws://127.0.0.1:9944)è¿æ¥åˆ°æœ¬åœ°èŠ‚ç‚¹ã€‚

1. ç‚¹å‡»**è®¾ç½®**ï¼Œç„¶åç‚¹å‡»**å¼€å‘è€…**ã€‚

   ![å¼€å‘è€…è®¾ç½®](/media/images/docs/tutorials/evm-ethereum/settings-developer.png)

1. å®šä¹‰ä»¥ä¸‹å¸æˆ·ä¿¡æ¯ä»¥åˆ›å»º EVM `Account`ç±»å‹å¹¶ä½¿å¸æˆ·èƒ½å¤Ÿå‘é€äº‹åŠ¡å’Œæ£€æŸ¥åŒºå—ã€‚

   è¦å‘é€äº‹åŠ¡ï¼Œæ‚¨å¿…é¡»å®šä¹‰`Address`å’Œ`LookupSource`è®¾ç½®ã€‚
   <br>
   è¦æ£€æŸ¥åŒºå—ï¼Œæ‚¨å¿…é¡»å®šä¹‰`Transaction`å’Œ`Signature`è®¾ç½®ã€‚

   ```json
   {
      "Address": "MultiAddress",
      "LookupSource": "MultiAddress",
      "Account": {
         "nonce": "U256",
         "balance": "U256"
      },
      "Transaction": {
         "nonce": "U256",
         "action": "String",
         "gas_price": "u64",
         "gas_limit": "u64",
         "value": "U256",
         "input": "Vec<u8>",
         "signature": "Signature"
      },
      "Signature": {
         "v": "u64",
         "r": "H256",
         "s": "H256"
      }
   }
   ```

1. ç‚¹å‡»**ä¿å­˜**ã€‚

## ä½¿ç”¨ RPC æŸ¥è¯¢ä½™é¢

é…ç½® EVM å¸æˆ·çš„è®¾ç½®åï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ Polkadot-JS åº”ç”¨ç¨‹åºæŸ¥çœ‹æœ‰å…³`alice`çš„ EVM å¸æˆ·çš„ä¿¡æ¯ã€‚

1. éªŒè¯æ‚¨çš„èŠ‚ç‚¹æ˜¯å¦ä»åœ¨è¿è¡Œï¼Œå¹¶ä¸”[Polkadot-JS åº”ç”¨ç¨‹åº](https://polkadot.js.org/apps/#?rpc=ws://127.0.0.1:9944)å·²è¿æ¥åˆ°èŠ‚ç‚¹ã€‚

1. ç‚¹å‡»**å¼€å‘è€…**ï¼Œç„¶åé€‰æ‹©**RPC è°ƒç”¨**ã€‚

1. åœ¨**æäº¤**é€‰é¡¹å¡ä¸Šï¼Œé€‰æ‹©**eth**ä½œä¸ºè¦è°ƒç”¨çš„ç«¯ç‚¹ã€‚

1. ä»è¦è°ƒç”¨çš„å‡½æ•°åˆ—è¡¨ä¸­é€‰æ‹©`getBalance(address, number)`ã€‚

1. ä¸ºåœ°å€æŒ‡å®š`alice`å¸æˆ·çš„ EVM å¸æˆ·æ ‡è¯†ç¬¦ã€‚

   é¢„å®šä¹‰çš„å¸æˆ·åœ°å€ä¸º`0xd43593c715fdd31c61141abd04a99fd6822c8558`ã€‚
   å¸æˆ·çš„åœ°å€æ˜¯ä½¿ç”¨[Substrate EVM å®ç”¨ç¨‹åº](https://github.com/substrate-developer-hub/frontier-solo-template-node/tree/main/utils/README.md#--evm-address-address)æ ¹æ®`alice`å¸æˆ·çš„å…¬é’¥è®¡ç®—å¾—å‡ºçš„ã€‚

1. ç‚¹å‡»**æäº¤ RPC è°ƒç”¨**ã€‚

   è¯¥è°ƒç”¨åº”è¿”å›ç±»ä¼¼äºä»¥ä¸‹å†…å®¹çš„è¾“å‡ºï¼š

   ```text
   2: eth.getBalance: U256
   340,282,366,920,938,463,463,374,607,431,768,210,955
   ```

## éƒ¨ç½²æ™ºèƒ½åˆçº¦

ç°åœ¨æ‚¨å·²ç»äº†è§£äº†å¦‚ä½•æŸ¥è¯¢ä»¥å¤ªåŠåœ°å€çš„ä½™é¢ï¼Œæ‚¨å¯èƒ½å¸Œæœ›æ¢ç´¢å¦‚ä½•éƒ¨ç½²å’Œè°ƒç”¨ä»¥å¤ªåŠæ™ºèƒ½åˆçº¦ä»¥åŠæµ‹è¯•ç›¸å…³åŠŸèƒ½ã€‚
æœ¬æ•™ç¨‹ä½¿ç”¨[Truffle](https://www.trufflesuite.com/truffle)ç¤ºä¾‹åˆçº¦ï¼Œè¯¥åˆçº¦å®šä¹‰äº†ä¸€ä¸ª[ERC-20 ä»£å¸](https://github.com/substrate-developer-hub/frontier-solo-template-node/blob/main/examples/contract-erc20/truffle/contracts/MyToken.sol)ã€‚æ‚¨è¿˜å¯ä»¥ä½¿ç”¨ Polkadot JS SDK å’Œ[Typescript](https://github.com/substrate-developer-hub/frontier-solo-template-node/tree/main/examples/contract-erc20)åˆ›å»º ERC-20 ä»£å¸åˆçº¦ã€‚

1. åˆ›å»º ERC-20 åˆçº¦ã€‚

   ä¸ºæ–¹ä¾¿èµ·è§ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨[MyToken.json](https://github.com/substrate-developer-hub/frontier-solo-template-node/blob/main/examples/contract-erc20/truffle/contracts/MyToken.json)ä¸­ä»£å¸åˆçº¦çš„å·²ç¼–è¯‘`bytecode`æ¥åœ¨ Substrate åŒºå—é“¾ä¸Šéƒ¨ç½²åˆçº¦ã€‚

1. éªŒè¯æ‚¨çš„èŠ‚ç‚¹æ˜¯å¦ä»åœ¨è¿è¡Œï¼Œå¹¶ä¸”[Polkadot-JS åº”ç”¨ç¨‹åº](https://polkadot.js.org/apps/#?rpc=ws://127.0.0.1:9944)å·²è¿æ¥åˆ°èŠ‚ç‚¹ã€‚

1. ç‚¹å‡»**å¼€å‘è€…**ï¼Œç„¶åé€‰æ‹©**å¤–éƒ¨å‡½æ•°**ã€‚

1. é€‰æ‹©**ALICE**å¼€å‘å¸æˆ·ä½œä¸ºç”¨äºæäº¤äº¤æ˜“çš„å¸æˆ·ã€‚

1. é€‰æ‹©**evm**ã€‚

1. é€‰æ‹©**create**å‡½æ•°ã€‚

1. é…ç½®å‡½æ•°çš„å‚æ•°ã€‚

   | æ­¤å¤„ | æŒ‡å®šæ­¤å†…å®¹ |
   | -------- | ------------ |
   | `source` | 0xd43593c715fdd31c61141abd04a99fd6822c8558 |
   | `init` | æ¥è‡ª`MyToken.json`çš„åŸå§‹`bytecode`åå…­è¿›åˆ¶å€¼ |
   | `value` | 0 |
   | `gasLimit` | 4294967295 |
   | `maxFeePerGas` | 100000000 |

   æ‚¨å¯ä»¥å°†å¯é€‰å‚æ•°ç•™ç©ºã€‚
   `nonce`çš„å€¼å°†é€’å¢æºå¸æˆ·çš„å·²çŸ¥ nonceï¼Œä»`0x0`å¼€å§‹ã€‚
   æ ¹æ®æ‚¨é€‰æ‹©çš„å‡½æ•°ï¼Œæ‚¨å¯èƒ½éœ€è¦åˆ é™¤æœªä½¿ç”¨çš„å‚æ•°ã€‚

1. ç‚¹å‡»**æäº¤äº‹åŠ¡**ã€‚

1. ç‚¹å‡»**ç­¾åå¹¶æäº¤**ä»¥æˆæƒäº¤æ˜“ã€‚

## æŸ¥çœ‹æ™ºèƒ½åˆçº¦

æäº¤äº¤æ˜“åï¼Œåˆçº¦å°†åœ¨ç½‘ç»œä¸Šéƒ¨ç½²ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨[Polkadot-JS åº”ç”¨ç¨‹åº](https://polkadot.js.org/apps/#?rpc=ws://127.0.0.1:9944)æŸ¥çœ‹æœ‰å…³å®ƒçš„ä¿¡æ¯ã€‚

1. éªŒè¯æ‚¨çš„èŠ‚ç‚¹æ˜¯å¦ä»åœ¨è¿è¡Œï¼Œå¹¶ä¸”[Polkadot-JS åº”ç”¨ç¨‹åº](https://polkadot.js.org/apps/#?rpc=ws://127.0.0.1:9944)å·²è¿æ¥åˆ°èŠ‚ç‚¹ã€‚

1. ç‚¹å‡»**ç½‘ç»œ**ï¼Œç„¶åé€‰æ‹©**èµ„æºç®¡ç†å™¨**ã€‚

1. ç‚¹å‡»**evm.Created**äº‹ä»¶ä»¥éªŒè¯æ–°åˆ›å»ºçš„åˆçº¦çš„åœ°å€æ˜¯å¦ä¸º`0x8a50db1e0f9452cfd91be8dc004ceb11cb08832f`ã€‚

   ![æˆåŠŸåˆ›å»ºåˆçº¦äº‹ä»¶](/media/images/docs/tutorials/evm-ethereum/evm-created.png)

   æ‚¨è¿˜å¯ä»¥ä½¿ç”¨æµè§ˆå™¨å¼€å‘è€…å·¥å…·ä¸­çš„æ§åˆ¶å°æŸ¥çœ‹æœ‰å…³äº¤æ˜“çš„è¯¦ç»†ä¿¡æ¯ã€‚

   ç”±äº EVM åˆçº¦åœ°å€ç”±åˆçº¦åˆ›å»ºè€…çš„å¸æˆ·æ ‡è¯†ç¬¦å’Œ nonce ç¡®å®šï¼Œå› æ­¤éƒ¨ç½²åˆçº¦çš„åœ°å€æ˜¯ä½¿ç”¨ä¼—æ‰€å‘¨çŸ¥çš„å¸æˆ·æ ‡è¯†ç¬¦`0xd43593c715fdd31c61141abd04a99fd6822c8558`å’Œ`alice`å¸æˆ·çš„ nonce `0x0`è®¡ç®—å¾—å‡ºçš„ã€‚

1. ç‚¹å‡»**å¼€å‘è€…**ï¼Œç„¶åé€‰æ‹©**é“¾çŠ¶æ€**ã€‚

1. é€‰æ‹©**evm**ä½œä¸ºè¦æŸ¥è¯¢çš„çŠ¶æ€å’Œ**accountCodes**ã€‚

1. ä¸º`alice`å¸æˆ·æŒ‡å®šå¸æˆ·æ ‡è¯†ç¬¦`0xd43593c715fdd31c61141abd04a99fd6822c8558`ï¼Œå¹¶æ³¨æ„å¸æˆ·ä»£ç ä¸ºç©ºï¼ˆ`0x`ï¼‰ã€‚

1. ä¸ºæ‚¨ä½¿ç”¨`alice`å¼€å‘å¸æˆ·éƒ¨ç½²çš„åˆçº¦æŒ‡å®šåˆçº¦åœ°å€`0x8a50db1e0f9452cfd91be8dc004ceb11cb08832f`ï¼Œå¹¶æ³¨æ„åˆçº¦å¸æˆ·ä»£ç æ˜¯æ¥è‡ª Solidity åˆçº¦çš„å­—èŠ‚ç ã€‚

## æŸ¥çœ‹å¸æˆ·å­˜å‚¨

æ‚¨éƒ¨ç½²çš„ ERC-20 åˆçº¦åŸºäº[OpenZeppelin ERC-20 å®ç°](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/master/contracts/token/ERC20/ERC20.sol)ã€‚
æ­¤åˆçº¦åŒ…å«ä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œè¯¥æ„é€ å‡½æ•°ä¼šé“¸é€ æœ€å¤§æ•°é‡çš„ä»£å¸å¹¶å°†å®ƒä»¬å­˜å‚¨åœ¨ä¸åˆçº¦åˆ›å»ºè€…å…³è”çš„å¸æˆ·ä¸­ã€‚

è¦æŸ¥è¯¢ä¸æ™ºèƒ½åˆçº¦å…³è”çš„å¸æˆ·å­˜å‚¨ï¼š

1. åœ¨é“¾çŠ¶æ€ä¸­ï¼Œå°†**evm**ä½œä¸ºè¦æŸ¥è¯¢çš„çŠ¶æ€ï¼Œé€‰æ‹©**accountStorages**ã€‚

1. å°† ERC-20 åˆçº¦åœ°å€`0x8a50db1e0f9452cfd91be8dc004ceb11cb08832f`æŒ‡å®šä¸ºç¬¬ä¸€ä¸ªå‚æ•°ã€‚

1. å°†è¦è¯»å–çš„å­˜å‚¨æ§½æŒ‡å®šä¸ºç¬¬äºŒä¸ªå‚æ•°`0x045c0350b9cf0df39c4b40400c965118df2dca5ce0fbcf0de4aafc099aea4a14`ã€‚

   åœ°å€çš„å­˜å‚¨æ§½æ˜¯ä½¿ç”¨[Substrate EVM å®ç”¨ç¨‹åº](https://github.com/substrate-developer-hub/frontier-solo-template-node/tree/main/utils/README.md#--erc20-slot-slot-address)æ ¹æ®æ§½ 0 å’Œå¸æˆ·æ ‡è¯†ç¬¦`0xd43593c715fdd31c61141abd04a99fd6822c8558`è®¡ç®—å¾—å‡ºçš„ã€‚

   è¿”å›çš„å€¼åº”ä¸º`0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff`ã€‚

   å¦‚æœæ‚¨åœ¨éƒ¨ç½²åˆçº¦åæ£€æŸ¥`alice`å¸æˆ·çš„ä½™é¢ï¼Œæ‚¨ä¼šçœ‹åˆ°å·²ä»å¸æˆ·ä¸­æå–è´¹ç”¨ï¼Œå¹¶ä¸”`getBalance(address, number)`è°ƒç”¨è¿”å›ç±»ä¼¼äºä»¥ä¸‹å†…å®¹çš„å€¼ï¼š

   ```text
   340,282,366,920,938,463,463,374,603,530,233,757,803
   ```

## è½¬ç§»ä»£å¸

åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæ‚¨åªä½¿ç”¨äº†`alice`å¼€å‘å¸æˆ·ã€‚
ä¸‹ä¸€æ­¥æ˜¯ä½¿ç”¨å·²éƒ¨ç½²çš„åˆçº¦å°†ä»£å¸è½¬ç§»åˆ°å¦ä¸€ä¸ªå¸æˆ·ã€‚

1. éªŒè¯æ‚¨çš„èŠ‚ç‚¹æ˜¯å¦ä»åœ¨è¿è¡Œï¼Œå¹¶ä¸”[Polkadot-JS åº”ç”¨ç¨‹åº](https://polkadot.js.org/apps/#?rpc=ws://127.0.0.1:9944)å·²è¿æ¥åˆ°èŠ‚ç‚¹ã€‚

1. ç‚¹å‡»**å¼€å‘è€…**ï¼Œç„¶åé€‰æ‹©**å¤–éƒ¨å‡½æ•°**ã€‚

1. é€‰æ‹©**ALICE**å¼€å‘å¸æˆ·ä½œä¸ºç”¨äºæäº¤äº¤æ˜“çš„å¸æˆ·ã€‚

1. é€‰æ‹©**evm**ã€‚

1. é€‰æ‹©**call**ä»¥åœ¨ ERC-20 åˆçº¦ä¸Šè°ƒç”¨`transfer(address, uint256)`å‡½æ•°ã€‚

1. é…ç½®å‡½æ•°çš„å‚æ•°ã€‚

   | æ­¤å¤„ | æŒ‡å®šæ­¤å†…å®¹ |
   | -------- | ------------ |
   | `source` | 0xd43593c715fdd31c61141abd04a99fd6822c8558 |
   | `target` | 0x8a50db1e0f9452cfd91be8dc004ceb11cb08832f |
   | `input` | 0xa9059cbb0000000000000000000000008eaf04151687736326c9fea17e25fc528761369300000000000000000000000000000000000000000000000000000000000000dd |
   | `value` | 0 |
   | `gasLimit` | 4294967295 |
   | `maxFeePerGas` | 100000000 |

   `source`ä»£è¡¨æŒæœ‰ä»£å¸çš„å¸æˆ·ã€‚
   åœ¨æœ¬ä¾‹ä¸­ï¼Œ`source`æ˜¯`alice`çš„ EVM å¸æˆ·ï¼Œå³åˆçº¦åˆ›å»ºè€…ã€‚
   `target`æ˜¯ç”¨äºä»`alice`å‘`bob`è½¬ç§»ä»£å¸çš„åˆçº¦åœ°å€ã€‚

   `input`å‚æ•°æ˜¯ä¸€ä¸ª EVM ABI ç¼–ç çš„å‡½æ•°è°ƒç”¨ï¼Œè¯¥è°ƒç”¨æŒ‡å®šè¦æ‰§è¡Œçš„å‡½æ•°è°ƒç”¨ï¼ˆ`0xa9059cbb`ï¼‰ä»¥åŠå‡½æ•°æ‰€éœ€çš„å‚æ•°ã€‚
   å¯¹äºæ­¤å‡½æ•°ï¼Œå‚æ•°æ˜¯`bob`EVM å¸æˆ·æ ‡è¯†ç¬¦ï¼ˆ`0x8eaf04151687736326c9fea17e25fc5287613693`ï¼‰å’Œè¦è½¬ç§»çš„ä»£å¸æ•°é‡ï¼ˆ221 æˆ–åå…­è¿›åˆ¶ä¸­çš„`0xdd`ï¼‰ã€‚

   æœ¬æ•™ç¨‹ä¸­çš„è¾“å…¥å€¼æ˜¯ä½¿ç”¨[Remix web IDE](http://remix.ethereum.org)è®¡ç®—å¾—å‡ºçš„ã€‚

1. ç‚¹å‡»**æäº¤äº‹åŠ¡**ã€‚

1. ç‚¹å‡»**ç­¾åå¹¶æäº¤**ä»¥æˆæƒäº¤æ˜“ã€‚

## éªŒè¯ä»£å¸è½¬ç§»

æäº¤äº¤æ˜“åï¼Œæ‚¨å¯ä»¥ä½¿ç”¨[Polkadot-JS åº”ç”¨ç¨‹åº](https://polkadot.js.org/apps/#?rpc=ws://127.0.0.1:9944)éªŒè¯ä»£å¸è½¬ç§»ã€‚

1. éªŒè¯æ‚¨çš„èŠ‚ç‚¹æ˜¯å¦ä»åœ¨è¿è¡Œï¼Œå¹¶ä¸”[Polkadot-JS åº”ç”¨ç¨‹åº](https://polkadot.js.org/apps/#?rpc=ws://127.0.0.1:9944)å·²è¿æ¥åˆ°èŠ‚ç‚¹ã€‚

1. ç‚¹å‡»**ç½‘ç»œ**ï¼Œç„¶åé€‰æ‹©**èµ„æºç®¡ç†å™¨**ã€‚

1. ç‚¹å‡»**evm.Executed**äº‹ä»¶ä»¥éªŒè¯å·²æ‰§è¡Œåˆçº¦çš„åœ°å€æ˜¯å¦ä¸º`0x8a50db1e0f9452cfd91be8dc004ceb11cb08832f`ã€‚

   ![æˆåŠŸæ‰§è¡Œäº‹ä»¶](/media/images/docs/tutorials/evm-ethereum/evm-executed.png)

1. ç‚¹å‡»**å¼€å‘è€…**ï¼Œç„¶åé€‰æ‹©**é“¾çŠ¶æ€**ã€‚

1. é€‰æ‹©**evm**ä½œä¸ºè¦æŸ¥è¯¢çš„çŠ¶æ€å’Œ**accountStorages**ã€‚

1. æ£€æŸ¥åˆçº¦åœ°å€`0x8a50db1e0f9452cfd91be8dc004ceb11cb08832f`å’Œå­˜å‚¨æ§½`0x045c0350b9cf0df39c4b40400c965118df2dca5ce0fbcf0de4aafc099aea4a14`çš„å­˜å‚¨ã€‚

   ```text
   0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff22
   ```

   å¦‚æœæ‚¨åœ¨éƒ¨ç½²åˆçº¦åæ£€æŸ¥`alice`å¸æˆ·çš„ä½™é¢ï¼Œæ‚¨ä¼šçœ‹åˆ°å·²ä»å¸æˆ·ä¸­æå–è´¹ç”¨ï¼Œå¹¶ä¸”`getBalance(address, number)`è°ƒç”¨è¿”å›ç±»ä¼¼äºä»¥ä¸‹å†…å®¹çš„å€¼ï¼š

   ```text
   340,282,366,920,938,463,463,374,603,530,233,366,411
   ```

## ä¸‹ä¸€æ­¥

- [Moonbeamï¼šä»¥å¤ªåŠå…¼å®¹æ€§](https://docs.moonbeam.network/learn/features/eth-compatibility/)
- [ä»¥å¤ªåŠé›†æˆ](/tutorials/integrate-with-tools/evm-integration/)
- [EVM ABI è§„èŒƒ](https://solidity.readthedocs.io/en/latest/abi-spec.html)
- [ERC-20 ä»£å¸æ ‡å‡†](https://ethereum.org/en/developers/docs/standards/tokens/erc-20/)
