---
title: 帐户、地址和密钥
description: 提供有关如何使用公钥/私钥对生成地址和识别帐户的概述。
keywords:
---

帐户代表能够进行交易或持有资金的身份——通常是个人或组织。
尽管帐户最常用于代表个人，但这并非必须如此。
帐户可用于代表用户或其他实体执行操作，或自主执行操作。
此外，任何单个个人或实体都可以拥有多个帐户，用于不同的目的。
例如，Polkadot 是一个基于 Substrate 的区块链，它拥有专门的帐户用于持有资金，这些资金与用于进行交易的帐户分开。
您如何实现和使用帐户完全取决于您作为区块链或平行链开发人员。

## 公钥和私钥

通常，每个帐户都拥有一个拥有公钥和私钥对的拥有者。
**私钥** 是一个随机生成的数字的密码学安全序列。
为了便于人类阅读，私钥会生成一个随机的单词序列，称为 **秘密种子短语** 或 **助记词**。
秘密种子短语很重要，因为如果私钥丢失，它可以用来恢复对帐户的访问权限。

对于大多数网络来说，与帐户关联的 **公钥** 是该帐户在网络上的识别方式，并且其某种形式用作交易的目标地址。
但是，基于 Substrate 的链使用底层公钥来派生一个或多个 **公用地址**。
Substrate 允许您为帐户生成多个地址和地址格式，而不是直接使用公钥。

## 地址编码和链特定地址

通过从单个公钥派生多个地址，您可以与多个链进行交互，而无需为每个网络创建单独的公钥和私钥对。
默认情况下，与帐户的公钥关联的地址使用 Substrate [**SS58 地址格式**](/reference/glossary/#ss58-address-format)。
SS58 地址格式是 [base-58 编码](https://datatracker.ietf.org/doc/html/draft-msporny-base58-01) 的增强版本。
SS58 地址格式的重要特征包括：

- 编码后的地址由 58 个字母数字字符组成，与十六进制编码的地址相比，地址更短，更容易识别。
- 地址不使用在字符串中难以区分的字符。
  例如，字符 `0`、`O`、`I` 和 `l` 不在 SS58 地址中使用。
- 地址可以包含特定于网络的前缀，因此您可以使用相同的公钥为不同的链派生地址。
- 地址可以使用派生路径从相同的公钥创建多个地址，因此您可以将不同的地址用于不同的目的。
  例如，您可以创建子帐户来分离资金或执行特定类型的交易。
- 地址可以使用校验和进行验证，以防止输入错误。

### 检查特定于网络的地址

由于单个公钥可用于为不同的 Substrate 链派生地址，因此单个帐户可以拥有多个特定于链的地址。
例如，如果您检查 `alice` 帐户公钥 `0xd43593c715fdd31c61141abd04a99fd6822c8558854ccde39a5684e7a56da27d` 的地址，则取决于特定于链的地址类型。

| 链地址类型             | 地址                                          |
| ------------------------------ | ------------------------------------------------ |
| Polkadot (SS58)                | 15oF4uVJwmo4TdGW7VfQxNLavjCXviqxT9S1MgbjMNHr6Sp5 |
| Kusama (SS58)                  | HNZata7iMYWmk5RvZRTiAsSDhV8366zq2YGb3tLH5Upf74F  |
| 通用 Substrate 链 (SS58) | 5GrwvaEF5zXb26Fz9rcQpDWS57CtERHpNehXCPcNoHGKutQY |

### 注册特定于网络的地址

每个基于 Substrate 的区块链都可以注册一个自定义前缀来创建特定于网络的地址类型。
例如，所有 Polkadot 地址都以 `1` 开头。
所有 Kusama 地址都以大写字母开头。
所有未注册的 Substrate 链都以 `5` 开头。

您可以使用 `subkey inspect` 命令和 `--network` 命令行选项或使用 [Subscan](https://polkadot.subscan.io/tools/format_transform) 来查找公钥的特定于网络的地址。

有关生成公钥和私钥对以及检查地址的信息，请参阅 [subkey](/reference/command-line-tools/subkey)。
有关注册特定于链的地址的信息，请参阅 [SS58 存储库](https://github.com/paritytech/ss58-registry) 中的说明。

## FRAME 中的帐户信息

从概念上讲，帐户代表具有一个或多个公用地址的公钥/私钥对的身份。
但是，在使用 FRAME 构建的运行时中，帐户被定义为一个存储映射，它具有一个 32 字节的地址标识符和相应的帐户信息，例如帐户已执行的交易数量、依赖于帐户的模块数量以及帐户余额。

帐户属性（例如 `AccountId`）可以在 `frame_system` 模块中泛型定义。
然后，泛型类型在运行时实现中解析为特定类型，并最终分配特定值。
例如，FRAME 中的 `Account` 类型依赖于关联的 `AccountId` 类型。`AccountId` 类型仍然是泛型类型，直到它在需要此信息的模块的运行时实现中分配类型。

有关帐户如何在 `frame_system` 模块中定义以及 `Account` 存储映射中的帐户属性的更多信息，请参阅 [帐户数据结构](/reference/account-data-structures/)。
有关使用泛型类型的更多信息，请参阅 [Rust for Substrate](/learn/rust-basics/#generic-types)。

## 专用帐户

作为区块链开发的灵活且模块化的框架，Substrate 本身不需要您定义或使用任何特定类型的帐户。
但是，不同的链可以实现不同的规则来控制帐户和控制它们的密钥的使用方式。
例如，如果您需要以下内容，则可以实现专用帐户：

- 自定义密码学方案
- 复杂或多用户签名规则
- 对特定功能的访问限制
- 对特定模块的访问限制

在大多数情况下，专用帐户是在特定 FRAME 模块的上下文中实现的，无论是在预构建的模块（如 [Staking](https://paritytech.github.io/substrate/master/pallet_staking/index.html) 或 [Multisig](https://paritytech.github.io/substrate/master/pallet_multisig/index.html)）中，还是在您设计

例如，Staking 模块会获取想要进行抵押的原始 FRAME 系统帐户，并生成 **stash** 和 **controller** 帐户抽象来识别执行特定操作所需的帐户。
您可以在 Polkadot 生态系统中看到这些帐户抽象的实现。但是，您可以使用相同的框架来实现不同的帐户规则或帐户类型，或者作为具有自己的帐户抽象的自定义模块的灵感。

### 多重签名帐户

通常，一个帐户只有一个拥有者，并且该拥有者持有用于签署交易的私钥。
Multisig 模块使您能够配置一个专用帐户，用于执行需要多个帐户拥有者批准才能执行的交易。
多重签名帐户是一个具有公钥但没有私钥的地址。
多重签名帐户的公用地址是从授权帐户签署者的确定性列表以及关联的交易请求区块高度和外部索引标识符派生的。

Multisig 模块使多个方能够共享执行某些交易的责任。
任何帐户持有者都可以指定允许批准多重签名交易的帐户以及执行调用以调度到运行时所需的最小批准数量。

### 代理和无密钥帐户

Proxy 模块提供了另一种方法，您可以使用 FRAME 为基于 Substrate 的链配置专用帐户。
使用代理帐户，主要帐户拥有者可以指定一个或多个其他帐户代表他们执行操作。
代理帐户可用于通过将主要帐户资金与分配给特定角色的帐户隔离来添加安全层，这些帐户可以代表主要帐户完成任务。

通过配置一个或多个代理帐户，帐户拥有者可以执行以下操作：

- 指定允许代表主要帐户拥有者提交交易的代理帐户的最大数量。
- 为每个代理执行的交易配置时间延迟。
- 对每个代理可以发出的交易类型设置限制。
- 在代理执行交易之前宣布要由代理执行的交易。
- 取消或拒绝要由代理执行的已宣布交易。
- 创建匿名（纯代理）帐户，这些帐户没有私钥，并且可以通过自己的配置代理在没有帐户所有权的情况下执行操作。

#### 运行时实现

尽管 Proxy 模块提供了此框架来配置代理帐户，但实现细节取决于您作为运行时开发人员。
例如，默认的 Proxy 模块会根据代理类型过滤代理帐户可以调度的调用。
但是，运行时实现定义了代理类型以及每个代理类型允许执行的交易。
Polkadot 使您能够使用以下代理类型来限制代理帐户的交易：

- Any
- NonTransfer
- Governance
- Staking
- IdentityJudgement
- CancelProxy
- Auction

代理类型的枚举列表以及将代理类型与交易匹配的逻辑在 [Polkadot 运行时](https://github.com/polkadot-fellows/runtimes/blob/main/relay/polkadot/src/lib.rs) 中定义。

#### 匿名代理帐户

匿名或纯代理帐户是一种特殊的代理帐户，它具有随机生成的地址，并且没有相应的私钥。
通常，如果您想将权限委托给一个帐户，该帐户可以在没有您的干预并且无法访问您的密钥的情况下调度函数调用，则会创建这种类型的代理帐户。
创建具有委托权限的新帐户后，该帐户可用作接收者来销毁资金或持有等待执行转账的代币。

## 下一步去哪里

在 Substrate 中，帐户需要公钥和私钥才能接收资金、签署交易和执行交易。
从高层次上讲，帐户有三种类型：

- 用户帐户，使最终用户能够与区块链进行交互。
- 网络帐户，通过限制抵押和治理的某些操作来为验证者和提名人提供额外的安全保障。
- 模块帐户，由有效的 **来源** 执行以执行特定于模块的操作。

有关使用帐户、地址和密钥的更多信息，请参阅以下资源：

- [SS58 特性实现](https://paritytech.github.io/substrate/master/sp_core/crypto/trait.Ss58Codec.html)
- [SS58 注册表](https://github.com/paritytech/ss58-registry/)
- [命令参考：subkey](/reference/command-line-tools/subkey/)
- [帐户数据结构](/reference/account-data-structures/)
- [密码学](/learn/cryptography//)
